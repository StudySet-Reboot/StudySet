<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"
  />
  <title>StudySet-스캐줄 조정표</title>
  <link rel="shortcut icon" th:href="@{/favicon_io/apple-touch-icon.png}" type="image/png">
  <link rel="stylesheet" th:href="@{/style/header.css}">
  <link rel="stylesheet" th:href="@{/style/group/groupMain.css}">
  <link rel="stylesheet" th:href="@{/style/group/calendar.css}">
  <link rel="stylesheet" th:href="@{/style/common/toast.css}">
  <script type="module" th:src="@{/js/schedule/timetable.js}"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
<!-- header -->
<div th:replace="~{thyme/group/groupHeader :: groupHeader (group=${session.group})}" class="header"></div>
<div class="sub-header">
  <div class="sub-header-title">
    <h2 th:text="'🪄'+${month} + '월 ' + ${weekOfMonth} + '째 주 스케줄 조정표'"></h2>
  </div>
  <div class="button-container">
    <button class="unselected-btn" id="adjust-calendar-btn">캘린더 보기</button>
    <button class="selected-btn" id="adjust-schedule-btn">스케줄 조정하기</button>
  </div>
</div>
<div class="container">
  <!-- time table -->
  <div class="time-table-container">
    <h6>※참석 가능한 시간에 색칠해주세요</h6>
    <table class="time-table" id="time-table">
      <thead>
      <tr>
        <th style="border-top-left-radius: 25px;">시간(시)</th>
        <th>월</th>
        <th>화</th>
        <th>수</th>
        <th>목</th>
        <th>금</th>
        <th>토</th>
        <th style="border-top-right-radius: 25px;">일</th>
      </tr>
      </thead>
      <tbody>
      <th:block th:each="dayList, stat : ${times}">
        <tr>
          <th th:text="${stat.index}+'~'+${stat.index + 1}"></th>
          <th:block th:each="day, dayIndex : ${dayList}">
            <td class="time-cell" th:classappend="${day == 1 ? 'highlighted' : ''}"></td>
          </th:block>
        </tr>
      </th:block>
      </tbody>
    </table>
  </div>
  <div class="time-table-side">
    <form name="add-time" th:action="@{/groups/{groupId}/timetables(groupId=${session.group.id})}" method="POST">
      <button type="button" class="selected-btn" id="submit-chart-btn">제출하기</button>
      <input type="hidden" name="timeList">
    </form>
    <!-- member list -->
    <div class="member-list-container" id="member-list">
      멤버 리스트
      <div class="member-list">

      </div>
    </div>
  </div>
</div>
<div id="toast" class="toast"/>
<div id="error-toast" class="error-toast"/>
<input type="hidden" id="groupId" name="groupId" th:value="${session.group.id}" />
</body>
</html>
